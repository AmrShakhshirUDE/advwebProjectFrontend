{"ast":null,"code":"import _defineProperty from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Amr\\\\Duisburg\\\\1semester\\\\AdvancedWebTechnology\\\\project\\\\testdeployUDE-master\\\\client\\\\src\\\\components\\\\GetPosts.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport like from '../assets/images/like.png';\nimport dislike from '../assets/images/dislike.png';\nimport download from '../assets/images/download.png';\nimport jwt_decode from 'jwt-decode';\nimport { Container, Row, Col } from \"reactstrap\";\nimport { Button, FormGroup, Form, Input } from 'reactstrap';\nimport Footer from './Footer';\nimport moment from 'moment';\nimport 'moment-timezone';\nimport { UrlContext } from '../contexts/urlContext';\n\nvar GetPosts = /*#__PURE__*/function (_Component) {\n  _inherits(GetPosts, _Component);\n\n  function GetPosts() {\n    var _this;\n\n    _classCallCheck(this, GetPosts);\n\n    var token = localStorage.usertoken;\n    var decoded = jwt_decode(token);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GetPosts).call(this));\n\n    _this.componentDidMount = function () {\n      console.log(_this.state.files);\n\n      _this.getAllPost();\n\n      _this.getComments();\n    };\n\n    _this.plusLike = function (e) {\n      axios({\n        url: _this.state.serverUrl + 'plusLike',\n        method: 'POST',\n        data: {\n          \"username\": _this.state.username,\n          \"email\": _this.state.email,\n          \"id\": e.$oid\n        }\n      }).then(function (response) {\n        console.log(response.data);\n\n        if (response.data.displaymsg) {\n          // alert(e.$oid)\n          _this.setState({\n            displaylikemsg: response.data.displaymsg,\n            likedPostId: e.$oid\n          });\n        }\n\n        _this.getAllPost();\n      });\n    };\n\n    _this.plusDisLike = function (e) {\n      axios({\n        url: _this.state.serverUrl + 'plusDislike',\n        method: 'POST',\n        data: {\n          \"username\": _this.state.username,\n          \"email\": _this.state.email,\n          \"id\": e.$oid\n        }\n      }).then(function (response) {\n        console.log(response.data);\n\n        if (response.data.displaymsg) {\n          // alert(response.data.displaymsg)\n          _this.setState({\n            displaydislikemsg: response.data.displaymsg,\n            dislikedPostId: e.$oid\n          });\n        }\n\n        _this.getAllPost();\n      });\n    };\n\n    _this.addComment = function (e) {\n      console.log('add comment');\n      axios({\n        url: _this.state.serverUrl + 'addcomment',\n        method: 'POST',\n        data: {\n          \"username\": _this.state.username,\n          \"email\": _this.state.email,\n          \"comment\": _this.state.comment,\n          \"id\": e.$oid //here should get the post id field\n\n        }\n      }).then(function (response) {\n        var data = response.data;\n\n        _this.getAllPost();\n\n        _this.setState({\n          comments: data\n        });\n\n        console.log(\"add new comments\");\n\n        _this.getComments(e.$oid);\n      });\n    };\n\n    _this.getComments = function (e) {\n      axios({\n        url: _this.state.serverUrl + 'getcomments',\n        method: 'POST',\n        data: {\n          \"id\": e //e.$oid //here should get the post id field\n\n        }\n      }).then(function (response) {\n        var data = response.data;\n\n        _this.setState({\n          comments: data,\n          'comment': ''\n        });\n\n        console.log(\"get all comments\");\n      });\n    };\n\n    _this.getAllPost = function () {\n      axios.get(_this.state.serverUrl + 'users/posts').then(function (response) {\n        var data = response.data;\n\n        _this.setState({\n          posts: data\n        });\n\n        console.log('Data has been received!');\n      }).catch(function () {\n        alert('Error retrieving data!!');\n      });\n    };\n\n    _this.displayBlogPost = function (posts) {\n      if (!posts.length) return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jumbotron mx-auto mt-3\",\n        style: {\n          \"width\": \"70%\"\n        },\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 34\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-center\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 99\n        }\n      }, \"There is currently no posts yet\"), \" \");\n      return posts.map(function (posts) {\n        var _React$createElement;\n\n        return /*#__PURE__*/React.createElement(Col, {\n          md: {\n            span: 3,\n            offset: 1\n          },\n          sm: \"12\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"jumbotron mt-5 mx-5 \",\n          style: {\n            \"width\": \"70%\",\n            \"backgroundColor\": \"white\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3 mt-0\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: _this.getImage(posts.userImage),\n          style: {\n            \"width\": \"110px\",\n            \"height\": \"110px\",\n            \"margin-top\": \"-10px\",\n            \"borderRadius\": \"50%\",\n            \"border\": 'solid 1px lightgrey'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-7 d-flex\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          className: \" \",\n          href: \"/profile\",\n          style: {\n            color: '#5c7d92'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 21\n          }\n        }, posts.username), /*#__PURE__*/React.createElement(\"small\", {\n          className: \"text-muted mt-1 mx-3\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 21\n          }\n        }, moment(posts.date.$date).format(\"DD/MMM/YYYY\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 mr-2\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          className: \"ml-3\",\n          style: {\n            \"color\": \"darkgrey\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 21\n          }\n        }, posts.like.length)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 mx-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: like,\n          className: \"like\",\n          title: \"like\",\n          onClick: function onClick() {\n            return _this.plusLike(posts._id);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 mx-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: dislike,\n          className: \"dislike\",\n          title: \"dislike\",\n          onClick: function onClick() {\n            return _this.plusDisLike(posts._id);\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1 ml-2\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          style: {\n            \"color\": \"darkgrey\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 21\n          }\n        }, posts.dislike.length)))), /*#__PURE__*/React.createElement(\"br\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }\n        }), posts._id.$oid == _this.state.likedPostId && /*#__PURE__*/React.createElement(\"small\", {\n          style: {\n            color: '#E67E22'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 19\n          }\n        }, _this.state.displaylikemsg), posts._id.$oid == _this.state.dislikedPostId && /*#__PURE__*/React.createElement(\"small\", {\n          style: {\n            color: '#E67E22'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 19\n          }\n        }, _this.state.displaydislikemsg), /*#__PURE__*/React.createElement(\"hr\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"text-left font-weight-bold mt-2\",\n          style: {\n            color: 'black'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 21\n          }\n        }, posts.title), /*#__PURE__*/React.createElement(\"p\", {\n          className: \" text-left \",\n          style: {\n            \"word-wrap\": \"break-word\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          style: {\n            color: 'black'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 81\n          }\n        }, \"Category:\"), \" \", posts.category), /*#__PURE__*/React.createElement(\"p\", (_React$createElement = {\n          className: \" text-left \",\n          style: {\n            \"word-wrap\": \"break-word\"\n          }\n        }, _defineProperty(_React$createElement, \"style\", {\n          color: '#01061c'\n        }), _defineProperty(_React$createElement, \"__self\", _assertThisInitialized(_assertThisInitialized(_this))), _defineProperty(_React$createElement, \"__source\", {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 17\n        }), _React$createElement), posts.content), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row my-4 justify-content-start\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-1\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: download,\n          className: \"downloadImg\",\n          onClick: _this.getFile.bind(_assertThisInitialized(_assertThisInitialized(_this)), posts),\n          title: \"download\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"text-nowrap\",\n          style: {\n            \"width\": \"6rem\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 21\n          }\n        }, posts.file))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row postBox mx-0 \",\n          style: {\n            \"backgroundColor\": \"whitesmoke\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }\n        }, posts.comments.map(function (value, index) {\n          return /*#__PURE__*/React.createElement(React.Fragment, {\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"col-sm-8\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            className: \"mt-2 ml-2 small\",\n            href: \"#\",\n            style: {\n              color: '#5c7d92'\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }\n          }, posts.comments[index]['username']), /*#__PURE__*/React.createElement(\"small\", {\n            className: \"text-muted mx-3\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 29\n            }\n          }, moment(posts.comments[index].date.$date).format(\"DD/MMM/YYYY\")))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row col-sm-12\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", {\n            className: \" text-left ml-3\",\n            style: {\n              \"word-wrap\": \"break-word\"\n            },\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 25\n            }\n          }, \" \", posts.comments[index]['comment']), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"divider\",\n            __self: _assertThisInitialized(_assertThisInitialized(_this)),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 25\n            }\n          })));\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row col-sm-12 py-2 mx-0\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Form, {\n          inline: true,\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Input, {\n          type: \"textarea\",\n          name: \"text\",\n          id: posts._id,\n          placeholder: \"new comment\",\n          onChange: function onChange(e) {\n            _this.setState({\n              comment: e.target.value,\n              displaymsg: ''\n            });\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }\n        })), /*#__PURE__*/React.createElement(Button, {\n          className: \"ml-3 btn-primary\",\n          onClick: function onClick() {\n            return _this.addComment(posts._id);\n          },\n          size: \"sm\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 23\n          }\n        }, \"send\"))))));\n      });\n    };\n\n    _this.state = {\n      'email': decoded.identity.email,\n      'username': decoded.identity.username,\n      'comment': '',\n      'comments': [],\n      //'title':'',\n      //'content':'',\n      //'category':'',\n      'image': '',\n      // 'file':'',\n      //'created':'',\n      files: '',\n      posts: [],\n      'like': '',\n      'dislike': '',\n      'idLikedPost': '',\n      'idDislikedPost': '',\n      'serverUrl': UrlContext._currentValue,\n      'displaydislikemsg': '',\n      'displaylikemsg': '',\n      'likedPostId': '',\n      'dislikedPostId': ''\n    };\n    _this.getFile = _this.getFile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addComment = _this.addComment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getComments = _this.getComments.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(GetPosts, [{\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"getFile\",\n    value: function getFile(e) {\n      var fName = e.file;\n      var urlFile = this.state.serverUrl + 'file/' + fName;\n      axios({\n        url: urlFile,\n        //your url\n        method: 'Get',\n        responseType: 'blob',\n        data: {\n          \"file\": fName\n        } // important\n\n      }).then(function (response) {\n        var url = window.URL.createObjectURL(new Blob([response.data]));\n        var link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', fName); //or any other extension\n\n        document.body.appendChild(link);\n        link.click();\n      });\n    }\n  }, {\n    key: \"getImage\",\n    value: function getImage(file) {\n      var img = file;\n\n      if (file !== 'images/userProfile.png') {\n        img = this.state.serverUrl + 'file/' + file;\n      }\n\n      return img;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        onClick: function onClick(e) {\n          _this2.setState({\n            displaylikemsg: '',\n            displaydislikemsg: ''\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"mt-5 float-right \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        style: {\n          \"width\": \"18rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        class: \"card-img-top\",\n        src: 'images/sidebar.jpg',\n        alt: \"Card image cap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 18\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        class: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 20\n        }\n      }, \"News\"), /*#__PURE__*/React.createElement(\"p\", {\n        class: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 20\n        }\n      }, \"Flaskpro presents Materialand.\")), /*#__PURE__*/React.createElement(\"ul\", {\n        class: \"list-group list-group-flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        class: \"list-group-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 20\n        }\n      }, \"Sharing Materials\"), /*#__PURE__*/React.createElement(\"li\", {\n        class: \"list-group-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 20\n        }\n      }, \"Advance Web\"), /*#__PURE__*/React.createElement(\"li\", {\n        class: \"list-group-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 20\n        }\n      }, \"Responsive Design\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        className: \"card-link text-muted \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 20\n        }\n      }, \"About us\"), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"https://www.uni-due.de/soco/\",\n        className: \"card-link text-muted \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 20\n        }\n      }, \" University \")))), /*#__PURE__*/React.createElement(Row, {\n        className: \"blog mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 14\n        }\n      }, this.displayBlogPost(this.state.posts))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 12\n        }\n      })));\n    }\n  }]);\n\n  return GetPosts;\n}(Component);\n\nexport { GetPosts as default };","map":{"version":3,"sources":["C:/Amr/Duisburg/1semester/AdvancedWebTechnology/project/testdeployUDE-master/client/src/components/GetPosts.js"],"names":["React","Component","axios","like","dislike","download","jwt_decode","Container","Row","Col","Button","FormGroup","Form","Input","Footer","moment","UrlContext","GetPosts","token","localStorage","usertoken","decoded","componentDidMount","console","log","state","files","getAllPost","getComments","plusLike","e","url","serverUrl","method","data","username","email","$oid","then","response","displaymsg","setState","displaylikemsg","likedPostId","plusDisLike","displaydislikemsg","dislikedPostId","addComment","comment","comments","get","posts","catch","alert","displayBlogPost","length","map","span","offset","getImage","userImage","color","date","$date","format","_id","title","category","content","getFile","bind","file","value","index","target","identity","_currentValue","onChange","name","fName","urlFile","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","img"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAAQC,SAAR,EAAmBC,GAAnB,EAAwBC,GAAxB,QAAkC,YAAlC;AACA,SAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,IAA7B,EAAmCC,KAAnC,QAAgD,YAAhD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,iBAAP;AACA,SAASC,UAAT,QAA2B,wBAA3B;;IAKqBC,Q;;;AAEnB,sBAAc;AAAA;;AAAA;;AACd,QAAMC,KAAK,GAAGC,YAAY,CAACC,SAA3B;AACA,QAAMC,OAAO,GAAGf,UAAU,CAACY,KAAD,CAA1B;AACI;;AAHU,UAmCdI,iBAnCc,GAmCM,YAAI;AAEtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,KAAvB;;AACA,YAAKC,UAAL;;AACA,YAAKC,WAAL;AACD,KAxCa;;AAAA,UA8ChBC,QA9CgB,GA8CL,UAACC,CAAD,EAAO;AACd5B,MAAAA,KAAK,CAAC;AACJ6B,QAAAA,GAAG,EAAE,MAAKN,KAAL,CAAWO,SAAX,GAAuB,UADxB;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGJC,QAAAA,IAAI,EAAC;AACH,sBAAW,MAAKT,KAAL,CAAWU,QADnB;AAEH,mBAAS,MAAKV,KAAL,CAAWW,KAFjB;AAGH,gBAAMN,CAAC,CAACO;AAHL;AAHD,OAAD,CAAL,CAQGC,IARH,CAQQ,UAACC,QAAD,EAAc;AAClBhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,QAAQ,CAACL,IAArB;;AACA,YAAIK,QAAQ,CAACL,IAAT,CAAcM,UAAlB,EAA6B;AAC3B;AACA,gBAAKC,QAAL,CAAc;AACZC,YAAAA,cAAc,EAAGH,QAAQ,CAACL,IAAT,CAAcM,UADnB;AAEZG,YAAAA,WAAW,EAAGb,CAAC,CAACO;AAFJ,WAAd;AAKD;;AACD,cAAKV,UAAL;AACH,OAnBD;AAoBD,KAnEa;;AAAA,UAqEdiB,WArEc,GAqEA,UAACd,CAAD,EAAO;AACjB5B,MAAAA,KAAK,CAAC;AACJ6B,QAAAA,GAAG,EAAE,MAAKN,KAAL,CAAWO,SAAX,GAAsB,aADvB;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGJC,QAAAA,IAAI,EAAC;AACH,sBAAW,MAAKT,KAAL,CAAWU,QADnB;AAEH,mBAAS,MAAKV,KAAL,CAAWW,KAFjB;AAGH,gBAAMN,CAAC,CAACO;AAHL;AAHD,OAAD,CAAL,CAQGC,IARH,CAQQ,UAACC,QAAD,EAAc;AAClBhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,QAAQ,CAACL,IAArB;;AAEA,YAAIK,QAAQ,CAACL,IAAT,CAAcM,UAAlB,EAA6B;AAC3B;AACA,gBAAKC,QAAL,CAAc;AACZI,YAAAA,iBAAiB,EAAGN,QAAQ,CAACL,IAAT,CAAcM,UADtB;AAEZM,YAAAA,cAAc,EAAGhB,CAAC,CAACO;AAFP,WAAd;AAKD;;AAED,cAAKV,UAAL;AACH,OArBD;AAsBH,KA5Fa;;AAAA,UAmGRoB,UAnGQ,GAmGK,UAACjB,CAAD,EAAM;AACjBP,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAGAtB,MAAAA,KAAK,CAAC;AACJ6B,QAAAA,GAAG,EAAE,MAAKN,KAAL,CAAWO,SAAX,GAAsB,YADvB;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGJC,QAAAA,IAAI,EAAC;AACH,sBAAW,MAAKT,KAAL,CAAWU,QADnB;AAEH,mBAAS,MAAKV,KAAL,CAAWW,KAFjB;AAGH,qBAAW,MAAKX,KAAL,CAAWuB,OAHnB;AAIH,gBAAMlB,CAAC,CAACO,IAJL,CAIU;;AAJV;AAHD,OAAD,CAAL,CASCC,IATD,CASM,UAAAC,QAAQ,EAAI;AAClB,YAAML,IAAI,GAAGK,QAAQ,CAACL,IAAtB;;AACA,cAAKP,UAAL;;AACA,cAAKc,QAAL,CAAc;AAACQ,UAAAA,QAAQ,EAACf;AAAV,SAAd;;AACEX,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;;AACA,cAAKI,WAAL,CAAiBE,CAAC,CAACO,IAAnB;AAEH,OAhBC;AAiBD,KAxHO;;AAAA,UA2HRT,WA3HQ,GA2HM,UAACE,CAAD,EAAO;AACnB5B,MAAAA,KAAK,CAAC;AACJ6B,QAAAA,GAAG,EAAE,MAAKN,KAAL,CAAWO,SAAX,GAAsB,aADvB;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGJC,QAAAA,IAAI,EAAC;AACH,gBAAMJ,CADH,CACI;;AADJ;AAHD,OAAD,CAAL,CAMCQ,IAND,CAMM,UAAAC,QAAQ,EAAI;AAClB,YAAML,IAAI,GAAGK,QAAQ,CAACL,IAAtB;;AACA,cAAKO,QAAL,CAAc;AACZQ,UAAAA,QAAQ,EAACf,IADG;AAEd,qBAAU;AAFI,SAAd;;AAIEX,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH,OAbC;AAcH,KA1IS;;AAAA,UA4IRG,UA5IQ,GA4IK,YAAM;AACfzB,MAAAA,KAAK,CAACgD,GAAN,CAAU,MAAKzB,KAAL,CAAWO,SAAX,GAAsB,aAAhC,EACCM,IADD,CACM,UAACC,QAAD,EAAc;AAClB,YAAML,IAAI,GAAGK,QAAQ,CAACL,IAAtB;;AACA,cAAKO,QAAL,CAAc;AACZU,UAAAA,KAAK,EAACjB;AADM,SAAd;;AAGAX,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD,OAPD,EAQC4B,KARD,CAQO,YAAI;AACTC,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACH,OAVC;AAWH,KAxJO;;AAAA,UA4LVC,eA5LU,GA4LQ,UAACH,KAAD,EAAU;AAG1B,UAAG,CAACA,KAAK,CAACI,MAAV,EAAkB,oBAAO;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAwC,QAAA,KAAK,EAAE;AAAC,mBAAQ;AAAT,SAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAiE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAAjE,MAAP;AAElB,aAAOJ,KAAK,CAACK,GAAN,CAAU,UAACL,KAAD;AAAA;;AAAA,4BACf,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAE;AAAEM,YAAAA,IAAI,EAAE,CAAR;AAAWC,YAAAA,MAAM,EAAE;AAAnB,WAAT;AAAmC,UAAA,EAAE,EAAC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEG;AAAK,UAAA,SAAS,EAAC,sBAAf;AAAsC,UAAA,KAAK,EAAE;AAAC,qBAAQ,KAAT;AAAe,+BAAkB;AAAjC,WAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEG;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,GAAG,EAAE,MAAKC,QAAL,CAAcR,KAAK,CAACS,SAApB,CAAV;AACA,UAAA,KAAK,EAAE;AAAC,qBAAS,OAAV;AAAkB,sBAAS,OAA3B;AAAmC,0BAAa,OAAhD;AACP,4BAAgB,KADT;AACgB,sBAAS;AADzB,WADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,eAOE;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAG,UAAA,SAAS,EAAC,GAAb;AAAiB,UAAA,IAAI,EAAC,UAAtB;AAAiC,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC;AAAP,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6DV,KAAK,CAAChB,QAAnE,CADF,eAEE;AAAO,UAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyCpB,MAAM,CAACoC,KAAK,CAACW,IAAN,CAAWC,KAAZ,CAAN,CAAyBC,MAAzB,CAAgC,aAAhC,CAAzC,CAFF,eAKA;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAI,UAAA,SAAS,EAAC,MAAd;AAAqB,UAAA,KAAK,EAAE;AAAC,qBAAS;AAAV,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGb,KAAK,CAAChD,IAAN,CAAWoD,MADd,CADF,CALA,eAUA;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,GAAG,EAAEpD,IAAV;AAAgB,UAAA,SAAS,EAAC,MAA1B;AAAiC,UAAA,KAAK,EAAC,MAAvC;AAA8C,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAK0B,QAAL,CAAcsB,KAAK,CAACc,GAApB,CAAJ;AAAA,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAVA,eAaA;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,GAAG,EAAE7D,OAAV;AAAmB,UAAA,SAAS,EAAC,SAA7B;AAAuC,UAAA,KAAK,EAAC,SAA7C;AAAuD,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAKwC,WAAL,CAAiBO,KAAK,CAACc,GAAvB,CAAJ;AAAA,WAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAbA,eAgBA;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAI,UAAA,KAAK,EAAE;AAAC,qBAAS;AAAV,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGd,KAAK,CAAC/C,OAAN,CAAcmD,MADjB,CADF,CAhBA,CAPF,CAFH,eAmCG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAnCH,EAoCKJ,KAAK,CAACc,GAAN,CAAU5B,IAAV,IAAgB,MAAKZ,KAAL,CAAWkB,WAA3B,iBACA;AAAO,UAAA,KAAK,EAAE;AAACkB,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkC,MAAKpC,KAAL,CAAWiB,cAA7C,CArCL,EAuCKS,KAAK,CAACc,GAAN,CAAU5B,IAAV,IAAgB,MAAKZ,KAAL,CAAWqB,cAA3B,iBACA;AAAO,UAAA,KAAK,EAAE;AAACe,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkC,MAAKpC,KAAL,CAAWoB,iBAA7C,CAxCL,eA2CG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA3CH,eA4CO;AAAI,UAAA,SAAS,EAAC,iCAAd;AAAgD,UAAA,KAAK,EAAE;AAACgB,YAAAA,KAAK,EAAC;AAAP,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyEV,KAAK,CAACe,KAA/E,CA5CP,eA6CG;AAAG,UAAA,SAAS,EAAC,aAAb;AAA2B,UAAA,KAAK,EAAE;AAAC,yBAAa;AAAd,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAgE;AAAM,UAAA,SAAS,EAAC,kBAAhB;AAAmC,UAAA,KAAK,EAAE;AAACL,YAAAA,KAAK,EAAC;AAAP,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAhE,OAA6IV,KAAK,CAACgB,QAAnJ,CA7CH,eA8CG;AAAG,UAAA,SAAS,EAAC,aAAb;AAA2B,UAAA,KAAK,EAAE;AAAC,yBAAa;AAAd;AAAlC,0DAAsE;AAACN,UAAAA,KAAK,EAAC;AAAP,SAAtE;AAAA;AAAA;AAAA;AAAA,mCAA2FV,KAAK,CAACiB,OAAjG,CA9CH,eAiDG;AAAK,UAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACA;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,GAAG,EAAE/D,QAAV;AAAoB,UAAA,SAAS,EAAC,aAA9B;AACA,UAAA,OAAO,EAAE,MAAKgE,OAAL,CAAaC,IAAb,wDAAuBnB,KAAvB,CADT;AAEA,UAAA,KAAK,EAAC,UAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADA,eAME;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAG,UAAA,SAAS,EAAC,aAAb;AAA2B,UAAA,KAAK,EAAE;AAAC,qBAAS;AAAV,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGA,KAAK,CAACoB,IADT,CADF,CANF,CAjDH,eA8DG;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAmC,UAAA,KAAK,EAAE;AAAC,+BAAkB;AAAnB,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAECpB,KAAK,CAACF,QAAN,CAAeO,GAAf,CAAmB,UAACgB,KAAD,EAAQC,KAAR,EAAkB;AACpC,8BACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACI;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE;AAAG,YAAA,SAAS,EAAC,iBAAb;AAA+B,YAAA,IAAI,EAAC,GAApC;AAAwC,YAAA,KAAK,EAAE;AAACZ,cAAAA,KAAK,EAAC;AAAP,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAmEV,KAAK,CAACF,QAAN,CAAewB,KAAf,EAAsB,UAAtB,CAAnE,CADF,eAEE;AAAO,YAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAoC1D,MAAM,CAACoC,KAAK,CAACF,QAAN,CAAewB,KAAf,EAAsBX,IAAtB,CAA2BC,KAA5B,CAAN,CAAyCC,MAAzC,CAAgD,aAAhD,CAApC,CAFF,CADJ,CADF,eAOE;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE;AAAG,YAAA,SAAS,EAAC,iBAAb;AAA+B,YAAA,KAAK,EAAE;AAAC,2BAAa;AAAd,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAsEb,KAAK,CAACF,QAAN,CAAewB,KAAf,EAAsB,SAAtB,CAAtE,CADF,eAEE;AAAK,YAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CAPF,CADF;AAcD,SAfA,CAFD,eAmBE;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE,oBAAC,IAAD;AAAM,UAAA,MAAM,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,IAAI,EAAC,MAA5B;AAAmC,UAAA,EAAE,EAAEtB,KAAK,CAACc,GAA7C;AAAkD,UAAA,WAAW,EAAC,aAA9D;AAA4E,UAAA,QAAQ,EAAE,kBAAAnC,CAAC,EAAE;AAAC,kBAAKW,QAAL,CAAc;AAACO,cAAAA,OAAO,EAAClB,CAAC,CAAC4C,MAAF,CAASF,KAAlB;AAAyBhC,cAAAA,UAAU,EAAG;AAAtC,aAAd;AAAyD,WAAnJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,eAIE,oBAAC,MAAD;AAAQ,UAAA,SAAS,EAAC,kBAAlB;AAAuC,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAKO,UAAL,CAAgBI,KAAK,CAACc,GAAtB,CAAJ;AAAA,WAAhD;AAAkF,UAAA,IAAI,EAAC,IAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,CADF,CAnBF,CA9DH,CAFH,CADe;AAAA,OAAV,CAAP;AAmGH,KApSW;;AAIV,UAAKxC,KAAL,GAAa;AACV,eAAQJ,OAAO,CAACsD,QAAR,CAAiBvC,KADf;AAEV,kBAAWf,OAAO,CAACsD,QAAR,CAAiBxC,QAFlB;AAGV,iBAAU,EAHA;AAIV,kBAAW,EAJD;AAKV;AACA;AACA;AACA,eAAQ,EARE;AASX;AACC;AACCT,MAAAA,KAAK,EAAC,EAXG;AAYTyB,MAAAA,KAAK,EAAC,EAZG;AAaT,cAAO,EAbE;AAcT,iBAAU,EAdD;AAeT,qBAAc,EAfL;AAgBT,wBAAiB,EAhBR;AAiBT,mBAAanC,UAAU,CAAC4D,aAjBf;AAkBT,2BAAoB,EAlBX;AAmBT,wBAAiB,EAnBR;AAoBT,qBAAc,EApBL;AAqBT,wBAAiB;AArBR,KAAb;AAyBA,UAAKP,OAAL,GAAa,MAAKA,OAAL,CAAaC,IAAb,uDAAb;AACA,UAAKvB,UAAL,GAAkB,MAAKA,UAAL,CAAgBuB,IAAhB,uDAAlB;AACA,UAAKO,QAAL,GAAgB,MAAKA,QAAL,CAAcP,IAAd,uDAAhB;AACA,UAAK1C,WAAL,GAAmB,MAAKA,WAAL,CAAiB0C,IAAjB,uDAAnB;AAhCU;AAiCb;;;;6BASSxC,C,EAAG;AACX,WAAKW,QAAL,qBAAiBX,CAAC,CAAC4C,MAAF,CAASI,IAA1B,EAAiChD,CAAC,CAAC4C,MAAF,CAASF,KAA1C;AACH;;;4BA+Ge1C,C,EAAG;AACT,UAAMiD,KAAK,GAAEjD,CAAC,CAACyC,IAAf;AACA,UAAMS,OAAO,GAAE,KAAKvD,KAAL,CAAWO,SAAX,GAAsB,OAAtB,GAA8B+C,KAA7C;AACA7E,MAAAA,KAAK,CAAC;AACJ6B,QAAAA,GAAG,EAAEiD,OADD;AACU;AACd/C,QAAAA,MAAM,EAAE,KAFJ;AAGJgD,QAAAA,YAAY,EAAE,MAHV;AAIJ/C,QAAAA,IAAI,EAAC;AACH,kBAAS6C;AADN,SAJD,CAMF;;AANE,OAAD,CAAL,CAOGzC,IAPH,CAOQ,UAACC,QAAD,EAAc;AACnB,YAAMR,GAAG,GAAGmD,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAAC9C,QAAQ,CAACL,IAAV,CAAT,CAA3B,CAAZ;AACA,YAAMoD,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,QAAAA,IAAI,CAACG,IAAL,GAAY1D,GAAZ;AACAuD,QAAAA,IAAI,CAACI,YAAL,CAAkB,UAAlB,EAA6BX,KAA7B,EAJmB,CAIkB;;AACrCQ,QAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;AACAA,QAAAA,IAAI,CAACO,KAAL;AACF,OAdD;AAeH;;;6BAGQtB,I,EAAK;AACZ,UAAIuB,GAAG,GAAEvB,IAAT;;AACA,UAAGA,IAAI,KAAG,wBAAV,EAAmC;AAC/BuB,QAAAA,GAAG,GAAE,KAAKrE,KAAL,CAAWO,SAAX,GAAsB,OAAtB,GAA+BuC,IAApC;AACD;;AACD,aAAOuB,GAAP;AACL;;;6BAkHQ;AAAA;;AAGL,0BACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE,oBAAC,SAAD;AAAY,QAAA,OAAO,EAAE,iBAAAhE,CAAC,EAAE;AAAC,UAAA,MAAI,CAACW,QAAL,CAAc;AAAEC,YAAAA,cAAc,EAAG,EAAnB;AAAsBG,YAAAA,iBAAiB,EAAG;AAA1C,WAAd;AAA6D,SAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,GAAD;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,MAAX;AAAkB,QAAA,KAAK,EAAE;AAAC,mBAAS;AAAV,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,cAAX;AAA0B,QAAA,GAAG,EAAE,oBAA/B;AAAqD,QAAA,GAAG,EAAC,gBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,KAAK,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAG,QAAA,KAAK,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFF,CAFF,eAME;AAAI,QAAA,KAAK,EAAC,6BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,eAEE;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,eAGE;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHF,CANF,eAWE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,IAAI,EAAC,GAAR;AAAY,QAAA,SAAS,EAAC,uBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAG,QAAA,IAAI,EAAC,8BAAR;AAAuC,QAAA,SAAS,EAAC,uBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,CAXF,CADF,CADD,eAmBC,oBAAC,GAAD;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKS,eAAL,CAAqB,KAAK7B,KAAL,CAAW0B,KAAhC,CADH,CAnBD,CAFF,eA4BC;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CA5BD,CADF;AA6CH;;;;EA1ViClD,S;;SAAjBgB,Q","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport like from '../assets/images/like.png';\r\nimport dislike from '../assets/images/dislike.png';\r\nimport download from '../assets/images/download.png';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {Container, Row, Col} from \"reactstrap\";\r\nimport {  Button, FormGroup, Form, Input } from 'reactstrap';\r\nimport Footer from './Footer'\r\nimport moment from 'moment';\r\nimport 'moment-timezone';\r\nimport { UrlContext } from '../contexts/urlContext';\r\n\r\n\r\n\r\n\r\nexport default class GetPosts extends Component {\r\n\r\n  constructor() {\r\n  const token = localStorage.usertoken\r\n  const decoded = jwt_decode(token)\r\n      super()\r\n      this.state = {\r\n         'email':decoded.identity.email,\r\n         'username':decoded.identity.username,\r\n         'comment':'',\r\n         'comments':[],\r\n         //'title':'',\r\n         //'content':'',\r\n         //'category':'',\r\n         'image':'',\r\n        // 'file':'',\r\n         //'created':'',\r\n          files:'',\r\n          posts:[],\r\n          'like':'',\r\n          'dislike':'',\r\n          'idLikedPost':'',\r\n          'idDislikedPost':'',\r\n          'serverUrl': UrlContext._currentValue,\r\n          'displaydislikemsg':'',\r\n          'displaylikemsg':'',\r\n          'likedPostId':'',          \r\n          'dislikedPostId':''\r\n\r\n      \r\n      }\r\n      this.getFile=this.getFile.bind(this)\r\n      this.addComment = this.addComment.bind(this)\r\n      this.onChange = this.onChange.bind(this)\r\n      this.getComments = this.getComments.bind(this)\r\n  }\r\n \r\n  componentDidMount = ()=>{\r\n  \r\n    console.log(this.state.files)\r\n    this.getAllPost();\r\n    this.getComments()\r\n  }\r\n\r\n  onChange (e) {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n}\r\n\r\nplusLike = (e) => {\r\n    axios({\r\n      url: this.state.serverUrl + 'plusLike', \r\n      method: 'POST',\r\n      data:{\r\n        \"username\":this.state.username,\r\n        \"email\": this.state.email,\r\n        \"id\": e.$oid \r\n      } \r\n    }).then((response) => {\r\n        console.log(response.data);\r\n        if (response.data.displaymsg){\r\n          // alert(e.$oid)\r\n          this.setState({ \r\n            displaylikemsg : response.data.displaymsg,\r\n            likedPostId : e.$oid\r\n\r\n          })\r\n        }        \r\n        this.getAllPost();\r\n    });        \r\n  } \r\n\r\n  plusDisLike = (e) => {\r\n      axios({\r\n        url: this.state.serverUrl +'plusDislike', \r\n        method: 'POST',\r\n        data:{\r\n          \"username\":this.state.username,\r\n          \"email\": this.state.email,\r\n          \"id\": e.$oid \r\n        } \r\n      }).then((response) => {\r\n          console.log(response.data);\r\n          \r\n          if (response.data.displaymsg){\r\n            // alert(response.data.displaymsg)\r\n            this.setState({ \r\n              displaydislikemsg : response.data.displaymsg,\r\n              dislikedPostId : e.$oid\r\n\r\n            })\r\n          }   \r\n          \r\n          this.getAllPost();\r\n      });\r\n  } \r\n    \r\n      \r\n    \r\n     \r\n\r\n\r\n        addComment = (e) =>{\r\n          console.log('add comment')\r\n          \r\n\r\n          axios({\r\n            url: this.state.serverUrl +'addcomment',\r\n            method: 'POST',\r\n            data:{\r\n              \"username\":this.state.username,\r\n              \"email\": this.state.email,\r\n              \"comment\": this.state.comment,\r\n              \"id\": e.$oid //here should get the post id field\r\n            }\r\n        }).then(response => {\r\n          const data = response.data;\r\n          this.getAllPost();\r\n          this.setState({comments:data})\r\n            console.log(\"add new comments\")\r\n            this.getComments(e.$oid)\r\n\r\n        })\r\n        }\r\n\r\n\r\n        getComments = (e) => {\r\n          axios({\r\n            url: this.state.serverUrl +'getcomments',\r\n            method: 'POST',\r\n            data:{\r\n              \"id\": e//e.$oid //here should get the post id field\r\n            }\r\n        }).then(response => {\r\n          const data = response.data;\r\n          this.setState({\r\n            comments:data,\r\n          'comment':'',\r\n        })\r\n            console.log(\"get all comments\")\r\n        })\r\n      }\r\n\r\n        getAllPost = () => {\r\n            axios.get(this.state.serverUrl +'users/posts')\r\n            .then((response) => {\r\n              const data = response.data;\r\n              this.setState({\r\n                posts:data \r\n              })\r\n              console.log('Data has been received!');\r\n            })\r\n            .catch(()=>{\r\n              alert('Error retrieving data!!');\r\n          });\r\n        }\r\n\r\n\r\n        getFile(e) {\r\n          const fName =e.file\r\n          const urlFile =this.state.serverUrl +'file/'+fName\r\n          axios({\r\n            url: urlFile, //your url\r\n            method: 'Get',\r\n            responseType: 'blob',\r\n            data:{\r\n              \"file\":  fName\r\n            } // important\r\n          }).then((response) => {\r\n             const url = window.URL.createObjectURL(new Blob([response.data]));\r\n             const link = document.createElement('a');\r\n             link.href = url;\r\n             link.setAttribute('download',fName); //or any other extension\r\n             document.body.appendChild(link);\r\n             link.click();\r\n          });\r\n      }\r\n\r\n\r\n      getImage(file){\r\n        let img =file\r\n        if(file!=='images/userProfile.png'){\r\n            img= this.state.serverUrl +'file/'+ file\r\n          }\r\n          return img\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n      displayBlogPost = (posts)=> {\r\n        \r\n\r\n        if(!posts.length) return <div className='jumbotron mx-auto mt-3' style={{\"width\":\"70%\"}}> <h4 className='text-center'>There is currently no posts yet</h4> </div>\r\n\r\n        return posts.map((posts) => (\r\n          <Col md={{ span: 3, offset: 1 }}   sm=\"12\">\r\n             \r\n             <div className=\"jumbotron mt-5 mx-5 \" style={{\"width\":\"70%\",\"backgroundColor\":\"white\"}}  >\r\n              \r\n                <div className=\"row\">\r\n                  <div className=\"col-sm-3 mt-0\">\r\n                    <img src={this.getImage(posts.userImage)} \r\n                    style={{\"width\": \"110px\",\"height\":\"110px\",\"margin-top\":\"-10px\",\r\n                    \"borderRadius\": \"50%\", \"border\":'solid 1px lightgrey'}}/>\r\n                  </div>\r\n\r\n                  <div className=\"col-sm-7 d-flex\">\r\n                    <a className=\" \" href=\"/profile\" style={{color:'#5c7d92'}} >{posts.username}</a>\r\n                    <small className=\"text-muted mt-1 mx-3\">{moment(posts.date.$date).format(\"DD/MMM/YYYY\")}</small>\r\n\r\n                    \r\n                  <div className=\"col-sm-1 mr-2\">\r\n                    <h6 className=\"ml-3\" style={{\"color\": \"darkgrey\"}}>\r\n                      {posts.like.length}\r\n                    </h6>\r\n                  </div>\r\n                  <div className=\"col-sm-1 mx-1\">\r\n                    <img src={like} className=\"like\" title=\"like\" onClick={()=>this.plusLike(posts._id)}/>\r\n                  </div>\r\n                  <div className=\"col-sm-1 mx-1\">\r\n                    <img src={dislike} className=\"dislike\" title=\"dislike\" onClick={()=>this.plusDisLike(posts._id)}/>\r\n                  </div>\r\n                  <div className=\"col-sm-1 ml-2\">\r\n                    <h6 style={{\"color\": \"darkgrey\"}}>\r\n                      {posts.dislike.length}\r\n                    </h6>\r\n                  </div>\r\n\r\n               \r\n                </div>\r\n\r\n                </div>\r\n                <br></br>\r\n                { posts._id.$oid==this.state.likedPostId &&\r\n                  <small style={{color:'#E67E22'}}>{this.state.displaylikemsg}</small>\r\n                }\r\n                { posts._id.$oid==this.state.dislikedPostId &&\r\n                  <small style={{color:'#E67E22'}}>{this.state.displaydislikemsg}</small>\r\n                }\r\n\r\n                <hr />\r\n                    <h5 className=\"text-left font-weight-bold mt-2\" style={{color:'black'}}>{posts.title}</h5>\r\n                <p className=\" text-left \" style={{\"word-wrap\": \"break-word\"}} ><span className=\"font-weight-bold\" style={{color:'black'}}>Category:</span> {posts.category}</p>\r\n                <p className=\" text-left \" style={{\"word-wrap\": \"break-word\"}} style={{color:'#01061c'}} >{posts.content}</p>\r\n\r\n              \r\n                <div className=\"row my-4 justify-content-start\">\r\n                <div className=\"col-sm-1\">\r\n                    <img src={download} className=\"downloadImg\" \r\n                    onClick={this.getFile.bind(this,posts)} \r\n                    title=\"download\"/>\r\n                  </div>\r\n                  <div className=\"col-sm-3\">\r\n                    <p className=\"text-nowrap\" style={{\"width\": \"6rem\"}}>\r\n                      {posts.file}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row postBox mx-0 \" style={{\"backgroundColor\":\"whitesmoke\"}}>\r\n\r\n                {posts.comments.map((value, index) => {\r\n                  return(\r\n                    <React.Fragment>\r\n                      <div className=\"row\" >\r\n                          <div className=\"col-sm-8\">\r\n                            <a className=\"mt-2 ml-2 small\" href=\"#\" style={{color:'#5c7d92'}}>{posts.comments[index]['username']}</a>\r\n                            <small className=\"text-muted mx-3\">{moment(posts.comments[index].date.$date).format(\"DD/MMM/YYYY\")}</small>\r\n                          </div>\r\n                      </div>\r\n                      <div className=\"row col-sm-12\" >\r\n                        <p className=\" text-left ml-3\" style={{\"word-wrap\": \"break-word\"}} > {posts.comments[index]['comment']}</p>\r\n                        <div className=\"divider\"></div>\r\n                      </div>\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n\r\n                  <div className=\"row col-sm-12 py-2 mx-0\" >\r\n                    <Form inline>\r\n                      <FormGroup>\r\n                        <Input type=\"textarea\" name=\"text\" id={posts._id} placeholder='new comment' onChange={e=>{this.setState({comment:e.target.value, displaymsg : ''})}}/>\r\n                      </FormGroup>\r\n                      <Button className=\"ml-3 btn-primary\"   onClick={()=>this.addComment(posts._id)}   size=\"sm\">send</Button>\r\n                    </Form>\r\n                  </div>\r\n                  \r\n                </div>\r\n\r\n            </div>\r\n         </Col>\r\n\r\n            ));\r\n    }\r\n       \r\n  \r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n          <React.Fragment>\r\n\r\n            <Container  onClick={e=>{this.setState({ displaylikemsg : '',displaydislikemsg : ''})}}>\r\n             <Row className=\"mt-5 float-right \">\r\n               <div class=\"card\" style={{\"width\": \"18rem\"}}>\r\n                 <img class=\"card-img-top\" src={'images/sidebar.jpg'} alt=\"Card image cap\" />\r\n                 <div class=\"card-body\">\r\n                   <h5 class=\"card-title\">News</h5>\r\n                   <p class=\"card-text\">Flaskpro presents Materialand.</p>\r\n                 </div>\r\n                 <ul class=\"list-group list-group-flush\">\r\n                   <li class=\"list-group-item\">Sharing Materials</li>\r\n                   <li class=\"list-group-item\">Advance Web</li>\r\n                   <li class=\"list-group-item\">Responsive Design</li>\r\n                 </ul>\r\n                 <div className=\"card-body\">\r\n                   <a href=\"#\" className=\"card-link text-muted \">About us</a>\r\n                   <a href=\"https://www.uni-due.de/soco/\" className=\"card-link text-muted \"> University </a>\r\n                 </div>\r\n               </div>\r\n             </Row>\r\n             <Row className=\"blog mt-5\">\r\n               {this.displayBlogPost(this.state.posts)}\r\n             </Row>\r\n          \r\n\r\n          </Container>\r\n\r\n           <div className='container-fluid mt-5' > \r\n           <Footer />\r\n           </div>\r\n\r\n           </React.Fragment>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                \r\n                \r\n                    \r\n\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}